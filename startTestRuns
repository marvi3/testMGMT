
# This part is evaluating the given arguments

inputDir="../x_in_corpus_javascript"
nrTestRuns=1;
cpuCoresString="";
cpuCores=(0);
cpuCoresList=(0);

while getopts 'n:i:c:' opt; do
    case "$opt" in
        n)
        if [ -z $OPTARG ]
        then
            echo "Please do not provide an empty number of testruns.";
        else
            nrTestRuns=$OPTARG;
            echo The script will generate folders for $nrTestRuns test runs for each SUT.;
        fi
        ;;
        c)
        if [ -z $OPTARG ]
        then
            echo "Please do not provide an empty list of processors.";
        else
            cpuCoresString=$OPTARG;
            unset cpuCores[0];
            IFS=',' read -ra cpuCores <<< $cpuCoresString;
            unset cpuCoresList[0];
            for i in "${cpuCores[@]}"; do
                if [[ "$i" == *"-"* ]]
                then
                    range=();
                    IFS='-' read -ra range <<< $i;
                    for ((j = ${range[0]}; j <= ${range[1]}; j++))
                    do
                        cpuCoresList+=($j);
                    done
                else
                    cpuCoresList+=($i);
                fi
            done
            echo The script will run on the cores "${cpuCoresList[*]}".;
        fi
        ;;
        i)
        if [ -z $OPTARG ]
        then
            echo "Please do not provide an empty location of the snippets.";
        else
            inputDir=$OPTARG;
            echo The script will use the snippets inside the direction $inputDir and copy them into the \"in\" folders.;
        fi
        ;;
    esac
done